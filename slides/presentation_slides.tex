\section{Présentation du langage S}


\subsection{Le langage S}

\begin{frame}
  \frametitle{Un langage pour «programmer avec des données»}

  Le S est développé chez Bell Laboratories (anciennement propriété de
  AT\&T, maintenant de Lucent Technologies).

  \begin{itemize}[<+(1)->]
  \item Pas seulement un «autre» environnement statistique, mais
    bien un langage de programmation complet et autonome.
  \item Inspiré de plusieurs langages, dont l'APL et le Lisp:
    \begin{itemize}
    \item interprété (et non compilé);
    \item sans déclaration obligatoire des variables;
    \item basé sur la notion de vecteur;
    \item particulièrement puissant pour les applications
      mathématiques et statistiques (et donc actuarielles).
    \end{itemize}
  \end{itemize}
\end{frame}


\subsection{Les moteurs S}

\begin{frame}
  \frametitle{Quelques «moteurs» ou dialectes du langage S}

  \begin{itemize}
  \item Le plus connu est S-Plus, un logiciel commercial de Insightful
    Corporation. (Bell Labs octroie à Insightful la licence exclusive
    de leur système S.)
  \item \textsf{R}, ou GNU S, est une version libre (\emph{Open
      Source}) «\emph{not unlike S}».
  \item S-Plus et \textsf{R} constituent tous deux des environnements
    intégrés de manipulation de données, de calcul et de préparation
    de graphiques.
  \end{itemize}
\end{frame}


\subsection[Documentation]{Où trouver de la documentation}

\begin{frame}
  \frametitle{Plusieurs ressources disponibles}

  \begin{itemize}[<+->]
  \item S-Plus est livré avec quatre livres, mais aucun ne s'avère
    vraiment utile pour apprendre le langage S.
  \item Plusieurs livres --- en versions papier ou électronique,
    gratuits ou non --- ont été publiés sur S-Plus et/ou \textsf{R}.
    On trouvera des listes exhaustives dans les sites de Insightful et
    du projet \textsf{R}.
  \end{itemize}
\end{frame}


\subsection[Interfaces]{Interfaces pour S-Plus et R}

\begin{frame}
  \frametitle{D'abord des applications en ligne de commande}

  \begin{itemize}[<+->]
  \item S-Plus possède toutefois une interface graphique élaborée
    permettant d'utiliser le logiciel sans trop connaître le langage
    de programmation.
  \item \textsf{R} dispose également d'une interface graphique
    rudimentaire sous Windows et Mac OS.
  \item L'édition sérieuse de code S bénéficie cependant grandement
    d'un bon éditeur de texte.
  \end{itemize}
\end{frame}

\begin{frame}
  \begin{itemize}[<+->]
  \item À la question 6.2 de la foire aux questions (FAQ) de
    \textsf{R}, «Devrais-je utiliser \textsf{R} à l'intérieur de
    Emacs?», la réponse est: «Oui, définitivement.»
  \item Nous partageons cet avis, aussi apprendra-t-on à utiliser
    S-Plus ou \textsf{R} à l'intérieur de GNU Emacs avec le mode
    ESS.
  \item Autre option: WinEdt (partagiciel) avec l'ajout R-WinEdt.
  \end{itemize}
\end{frame}


\subsection[Emacs et ESS]{Installation de Emacs avec ESS}

\begin{frame}
  \frametitle{Installation de Emacs avec ESS}

  \begin{itemize}[<+->]
  \item Pour une installation simplifiée de Emacs et ESS, consulter le
    site Internet
    \begin{center}
      \url{http://vgoulet.act.ulaval.ca/pub/emacs/}
    \end{center}
    On y trouve une version modifiée de GNU Emacs et des instructions
    d'installation détaillées.
  \item L'annexe A du document d'accompagnement présente les plus
    importantes commandes à connaître pour utiliser Emacs et le mode
    ESS.
  \end{itemize}
\end{frame}


\subsection[Démarrer et quitter]{Démarrer et quitter S-Plus ou R}

\begin{frame}
  \frametitle{Démarrer et quitter S-Plus ou R}

  \begin{itemize}[<+->]
  \item Pour démarrer \textsf{R} \R à l'intérieur de Emacs:

    \texttt{M-x R RET}

    puis spécifier un dossier de travail. Une console \textsf{R} est
    ouverte dans un \emph{buffer} nommé \texttt{*R*}.
  \item Pour démarrer S-Plus sous Windows, consulter l'annexe B du
    document d'accompagnement.
  \item Pour quitter, deux options sont disponibles:
    \begin{enumerate}[<+->]
    \item Taper \fonction{q()} à la ligne de commande.
    \item Dans Emacs, faire \ess{C-c C-q}. ESS va alors s'occuper de
      fermer le processus S ainsi que tous les \emph{buffers} associés
      à ce processus.
    \end{enumerate}
  \end{itemize}
\end{frame}


\subsection{Stratégies de travail}

\begin{frame}
  \frametitle{Deux grandes façons de travailler avec S-Plus et \textsf{R}}

  \begin{enumerate}
  \item Le code est virtuel et les objets sont réels.
  \item Le code est réel et les objets sont virtuels.
  \end{enumerate}
\end{frame}

\begin{frame}
  \frametitle{Code virtuel, objets réels}

  \begin{itemize}
  \item C'est l'approche qu'encouragent les interfaces graphiques,
    mais aussi la moins pratique à long terme.
  \item On entre des expressions directement à la ligne de commande
    pour les évaluer immédiatement.
  \item Les objets créés au cours d'une session de travail sont
    sauvegardés.
  \item Par contre, le code utilisé pour créer ces objets est perdu
    lorsque l'on quitte S-Plus ou \textsf{R}, à moins de sauvegarder
    celui-ci dans des fichiers.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Code réel, objets virtuels}

  \begin{itemize}
  \item C'est l'approche que nous favoriserons.
  \item Le travail se fait essentiellement dans des fichiers de script
    (de simples fichiers de texte) dans lesquels sont sauvegardées les
    expressions (parfois complexes!) et le code des fonctions
    personnelles.
  \item Les objets sont créés au besoin en exécutant le code.
  \end{itemize}
\end{frame}

\begin{frame}
  Emacs permet ici de passer efficacement des fichiers de script à
  l'exécution du code:
  \begin{enumerate}[<+->]
  \item Démarrer un processus S-Plus (\texttt{M-x Sqpe}) ou \textsf{R}
    (\texttt{M-x R}) et spécifier le dossier de travail.
  \item Ouvrir un fichier de script avec \ess{C-x C-f}. Pour créer un
    nouveau fichier, ouvrir un fichier n'existant pas.
  \item Positionner le curseur sur une expression et faire \ess{C-c
      C-n} pour l'évaluer.
  \item Le résultat apparaît dans le \emph{buffer} \texttt{*S+6*} ou
    \texttt{*R*}.
  \end{enumerate}
\end{frame}


\subsection[Gestion des projets]{Gestion des projets ou environnements de
  travail}

\begin{frame}
  \frametitle{Gestion des projets ou environnements de travail}

  S-Plus et \textsf{R} ont une manière différente, mais tout aussi
  particulière de sauvegarder les objets créés au cours d'une session
  de travail.
  \pause

  \begin{itemize}[<+->]
  \item Tous deux doivent travailler dans un dossier et non avec des
    fichiers individuels.
  \item Dans S-Plus, \Splus tous les objets sont immédiatement
    sauvegardés permanente sur le disque dur dans le sous-dossier
    \texttt{\_\_Data} du dossier de travail.
  \item Dans \textsf{R}, \R les objets créés sont conservés en mémoire;
    \begin{itemize}
    \item sauvegardés en quittant l'application
    \item avec la commande \fonction{save.image()}.
    \end{itemize}
  \item L'environnement de travail (\emph{workspace}) est sauvegardé
    dans le fichier \texttt{.RData} dans le dossier de travail.
  \end{itemize}
\end{frame}

\begin{frame}
  Le dossier de travail est déterminé au lancement de l'application.
  \begin{itemize}[<+->]
  \item Avec Emacs et ESS on doit spécifier le dossier de travail à
    chaque fois que l'on démarre un processus S-Plus ou R.
  \item Les interfaces graphiques permettent également de spécifier le
    dossier de travail.
  \end{itemize}
\end{frame}


\subsection{Consulter l'aide en ligne}

\begin{frame}[fragile]
  \frametitle{La première source d'aide}

  Les rubriques d'aide des diverses fonctions disponibles dans S-Plus
  et \textsf{R} contiennent une foule d'informations ainsi que des
  exemples d'utilisation. Leur consultation est tout à fait
  essentielle.

  \begin{itemize}[<+(1)->]
  \item Pour consulter la rubrique d'aide de la fonction \code{foo},
    on peut entrer à la ligne de commande
\begin{Sinput}
> ?foo
\end{Sinput}
  \item Dans Emacs, \code{C-c C-v foo RET} ouvrira
    la rubrique d'aide de la fonction \code{foo} dans un nouveau
    \emph{buffer}.
  \end{itemize}
\end{frame}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "introduction_programmation_S_slides"
%%% End:
